# ST Liver 

This repository contains data to produce data presented in "Title", these include data, scripts ..



## Structure

* `data` - contains processed data to be used in the analysis
	* `gene lists`- 
	* `h5ad-cca`- 
	* `meta`- 
	* `stereoscope`- 
* scripts - contains processing scripts and notebooks
	* `R-markdown-methods.Rmd` - contains a R markdown script to perform canonical correlation analyis, clustering and DGEA, tissue visualization, correlation analysis, visualization of single cell integration using single cell data of the [Mouse Cell Atlas](https://www.cell.com/cell/fulltext/S0092-8674%2818%2930116-8) and comparative analyses with published data from [Halpern et al](https://www.nature.com/articles/nature21065)
	* `MultiCCA.R` - contains code for the modified canonical correlation analysis function used in `R-markdown-methods.Rmd`
* res - holds results generated from the analysis
* rsc - are resources of interest

## Hepaquery Installation
To facilitate reproduction of our results and enable easy exploration of similar
data sets using the methods we present in this work, we have packaged these into
a Python module called `hepaquery`. This, among other things, contains functions
to generate _feature\_by\_distance_ plots, classification of vein types based on
neighborhood expression profiles (NEPs), and evaluation of prediction results.
To install this package, do:

1. Enter a terminal window, change directory to this repository and type

```sh
$> python3 setup.py install

```

Depending on your OS and user configurations, you might have to add `--user` for this to work.

2. Next, to test if the installation work, enter the following into the terminal:

```sh
$> python3 -c "import hepaquery; print(hepaquery.__version__)"

```
If everything went as expected, this should print the version of `hepaquery` in your terminal.

The notebook `scripts/vein-analysis.ipynb` illustrates the usage of `hepaquery`.


## Additional Information
* the `.h5ad` files are generated by using the script `.prepare-data`
* the counts data in the `.h5ad` files are normalized data, performed by `sctransform` in `R`
* larger files (>10Mb) are managed by the LFS system
